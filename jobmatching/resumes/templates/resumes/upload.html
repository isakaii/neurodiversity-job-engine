{% extends "resumes/base.html" %}
{% block content %}
<main>
    <section class="py-5 text-center container">
        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <h1 class="fw-light">Upload Resume</h1>
                <p class="lead text-muted">Upload a resume to start job matching process.</p>
            </div>
        </div>
    </section>

    <div class="container">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group row">
                <label for="formFileLg" class="form-label">
                    <h2>Input your resume</h2>
                </label>
            </div>
            <div class="form-group row">
                <label for="name" class="col-sm-2 col-form-label">Name</label>
                <div class="col-sm-10">
                    <input class="form-control" id="nameInput" name="name" placeholder="First Last" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Headline</label>
                <div class="col-sm-10">
                    <input class="form-control" id="headlineInput" name="headline" placeholder="Headline" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Summary</label>
                <div class="col-lg">
                    <textarea class="form-control" id="summaryInput" name="headline" placeholder="Summary" rows="3"></textarea>
                </div>

            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Location</label>
                <div class="col-lg">
                    <input class="form-control" id="locationInput" name="location" placeholder="Street, City, State, Zip"></textarea>
                </div>

            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Links</label>
                <div class="col-lg">
                    <textarea class="form-control" id="linksInput" name="links" placeholder="Links" rows="3"></textarea>
                </div>

            </div>
            
            <div class="form-group row">
                <p class="text-left">What is your current or most recent field of work? Please check all that apply and specify further if needed.</p>
                <div class="list-group">
                    {% for field in fields_of_work %}
                    <label class="list-group-item">
                        <input class="form-check-input me-1" type="checkbox" value="{{field}}" name="recentFieldOfWork">
                        {{field}}
                    </label>
                    {% endfor %}
                   
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1">Other</span>
                        </div>
                        <input class="form-control" name="recentFieldOfWorkOther"></textarea>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <p class="text-left">What is the field of work which you would like to explore/enter? Please check all that apply and specify further if needed.</p>
                <div class="list-group">
                    {% for field in fields_of_work %}
                    <label class="list-group-item">
                        <input class="form-check-input me-1" type="checkbox" value="{{field}}" name="fieldsOfWorkToExplore">
                        {{field}}
                    </label>
                    {% endfor %}
                   
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1">Other</span>
                        </div>
                        <input class="form-control" name="fieldsOfWorkToExploreOther"></textarea>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <p class="text-left">Work Experience</p>
                <div class="list-group" id="work_experience_form">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">Job Title</span>
                        </div>
                        <input class="form-control" name="workExperience"></textarea>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">Company</span>
                        </div>
                        <input class="form-control" name="workExperience"></textarea>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">Location</span>
                        </div>
                        <input class="form-control" name="workExperience"></textarea>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">Job type</span>
                        </div>
                        {% for job_type in job_types %}
                        <label class="list-group-item">
                            <input class="form-check-input me-1" type="checkbox" value="{{job_type}}" name="workExperience">
                            {{job_type}}
                        </label>
                        {% endfor %}
                    </div>
                    <div class="input-group mb-3">
                        <p class="text-left">Time Period</p>
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">From</span>
                        </div>
                        <input class="form-control" name="workExperience"></textarea>
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">To</span>
                        </div>
                        <input class="form-control" name="workExperience" value="Present"></textarea>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">Description</span>
                        </div>
                        <input class="form-control" name="workExperience"></textarea>
                    </div>
                </div>
                <input type="button" value="Add Another Work Experience" id="add_work_experience">
            </div>

            <div class="form-group row">
                <!-- 
                    <input class="form-control form-control-lg" id="formFileLg" type="file" name="file"/>
                -->
                <div>
                    <button class="btn btn-primary" type="submit">Submit</button>
                </div>
            </div>

        </form>
        {% for message in messages %}
        <div class="alert alert-primary">
            {{ message }}
        </div>
        {% endfor %}
    </div>
</main>
{% endblock content %}

<script type='text/javascript'>
    // $('#add_work_experience').click(function() {
    //     var form_idx = $("#work_experience_form").find("li").length - 1;
    //     $('#work_experience_form').append($('#work_experience_form').html().replace(/__prefix__/g, form_idx));
    //     $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
    // });
</script>